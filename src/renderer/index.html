<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NOVA - The Collective Mind</title>
  <link rel="stylesheet" href="styles/nova.css">
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="logo">
        <img src="/logo-brain.jpg" alt="NOVA" class="logo-img" height="40">
        <span class="logo-text">NOVA</span>
      </div>
      <nav class="main-nav">
        <button class="nav-btn active" data-tab="dashboard">Dashboard</button>
        <button class="nav-btn" data-tab="goals">Goals</button>
        <button class="nav-btn" data-tab="tasks">Tasks</button>
        <button class="nav-btn" data-tab="projects">Projects</button>
        <button class="nav-btn" data-tab="workflows">Workflows</button>
        <button class="nav-btn" data-tab="habits">Habits</button>
        <button class="nav-btn" data-tab="memory">Memory</button>
        <button class="nav-btn" data-tab="network">Network</button>
        <button class="nav-btn" data-tab="counsel">Counsel</button>
        <button class="nav-btn" data-tab="learning">Learning</button>
      </nav>
      <div class="header-actions">
        <div class="sync-status" id="syncStatus">
          <span class="sync-icon">‚ü≥</span>
          <span class="sync-text">Loading...</span>
        </div>
        <button class="btn-icon" id="searchBtn">üîç</button>
        <button class="btn-icon" id="notifBtn">üîî</button>
        <div class="user-avatar">N</div>
      </div>
    </header>

    <main class="app-content">
      <!-- DASHBOARD TAB -->
      <section class="tab-panel active" id="dashboard">
        <div class="dashboard-grid">
          <div class="dash-card welcome">
            <h2>Good <span id="timeGreeting">Day</span>, Nick</h2>
            <p class="date" id="currentDate">Loading...</p>

            <!-- Quick Action Buttons -->
            <div class="quick-actions">
              <button class="quick-action-btn" id="quickTaskBtn">+ New Task</button>
              <button class="quick-action-btn" id="quickHabitBtn">+ Log Habit</button>
              <button class="quick-action-btn" id="quickCounselBtn">+ Counsel</button>
            </div>

            <div class="daily-focus">
              <h3>Today's Focus</h3>
              <div id="dailyGoalsPreview">
                <div class="loading">Loading goals...</div>
              </div>
            </div>
          </div>

          <div class="dash-card stats">
            <h3>Week at a Glance</h3>
            <div class="stat-row">
              <div class="stat">
                <span class="stat-value" id="tasksCompleted">0</span>
                <span class="stat-label">Tasks Done</span>
              </div>
              <div class="stat">
                <span class="stat-value" id="tasksTotal">0</span>
                <span class="stat-label">Total</span>
              </div>
              <div class="stat">
                <span class="stat-value" id="habitStreak">0</span>
                <span class="stat-label">Day Streak</span>
              </div>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" id="weekProgress" style="width: 0%"></div>
            </div>
          </div>

          <!-- Urgent/Attention Widget -->
          <div class="dash-card urgent-items">
            <h3>üî¥ Urgent <span id="urgentCount" class="badge">0</span></h3>
            <div id="urgentList">
              <div class="loading">Loading...</div>
            </div>
          </div>

          <!-- Skills Building Widget -->
          <div class="dash-card skills-progress">
            <h3>‚ö° Skills Building</h3>
            <div id="skillsList">
              <div class="loading">Loading...</div>
            </div>
          </div>

          <!-- Suggestions Widget -->
          <div class="dash-card suggestions">
            <h3>üí° Axiom Suggests</h3>
            <div id="suggestionsList">
              <div class="loading">Loading...</div>
            </div>
          </div>

          <div class="dash-card active-projects">
            <h3>Active Projects</h3>
            <div id="projectsPreview">
              <div class="loading">Loading projects...</div>
            </div>
          </div>
        </div>
      </section>

      <!-- GOALS TAB -->
      <section class="tab-panel" id="goals">
        <div class="tab-header">
          <h2>Goals</h2>
          <div class="goals-header-actions">
            <div class="goals-filters">
              <button class="goal-filter-btn active" data-filter="all">All</button>
              <button class="goal-filter-btn" data-filter="business">Business</button>
              <button class="goal-filter-btn" data-filter="tech">Tech</button>
              <button class="goal-filter-btn" data-filter="health">Health</button>
              <button class="goal-filter-btn" data-filter="finance">Finance</button>
              <button class="goal-filter-btn" data-filter="personal">Personal</button>
            </div>
            <div class="goals-toggles">
              <button class="btn-secondary" id="showCompletedBtn">‚úì Show Completed</button>
              <button class="btn-secondary" id="showArchivedBtn">üì¶ Show Archived</button>
            </div>
          </div>
        </div>

        <div class="goals-grid">
          <!-- SHORT-TERM COLUMN -->
          <div class="goals-column" data-timeframe="short">
            <div class="column-header">
              <h3>Short-term</h3>
              <span class="column-subtitle">(1-90 days)</span>
            </div>
            <div class="goals-list" id="goalsShortTerm" data-timeframe="short">
              <div class="loading">Loading goals...</div>
            </div>
            <button class="add-goal-btn" data-timeframe="short">+ Add Goal</button>
          </div>

          <!-- MID-TERM COLUMN -->
          <div class="goals-column" data-timeframe="mid">
            <div class="column-header">
              <h3>Mid-term</h3>
              <span class="column-subtitle">(6-12 months)</span>
            </div>
            <div class="goals-list" id="goalsMidTerm" data-timeframe="mid">
              <div class="loading">Loading goals...</div>
            </div>
            <button class="add-goal-btn" data-timeframe="mid">+ Add Goal</button>
          </div>

          <!-- LONG-TERM COLUMN -->
          <div class="goals-column" data-timeframe="long">
            <div class="column-header">
              <h3>Long-term</h3>
              <span class="column-subtitle">(2-5 years)</span>
            </div>
            <div class="goals-list" id="goalsLongTerm" data-timeframe="long">
              <div class="loading">Loading goals...</div>
            </div>
            <button class="add-goal-btn" data-timeframe="long">+ Add Goal</button>
          </div>
        </div>

        <!-- COMPLETED SECTION (collapsible) -->
        <div class="goals-section-collapsible" id="completedSection" style="display: none;">
          <div class="goals-section-header">
            <h3>‚úì Completed Goals</h3>
            <span class="goals-section-count" id="completedCount">0</span>
          </div>
          <div class="goals-section-content">
            <div class="goals-list" id="goalsCompleted">
              <div class="empty-state">No completed goals</div>
            </div>
          </div>
        </div>

        <!-- ARCHIVED SECTION (collapsible) -->
        <div class="goals-section-collapsible" id="archivedSection" style="display: none;">
          <div class="goals-section-header">
            <h3>üì¶ Archived Goals</h3>
            <span class="goals-section-count" id="archivedCount">0</span>
          </div>
          <div class="goals-section-content">
            <div class="goals-list" id="goalsArchived">
              <div class="empty-state">No archived goals</div>
            </div>
          </div>
        </div>
      </section>

      <!-- GOAL DETAIL VIEW MODAL -->
      <div class="goal-detail-modal" id="goalDetailModal">
        <div class="goal-detail-content">
          <button class="goal-detail-close">&times;</button>
          <div class="goal-detail-header">
            <button class="btn-link goal-back-btn">‚Üê Back to Goals</button>
          </div>
          <div id="goalDetailBody">
            <!-- Dynamic content loaded here -->
          </div>
        </div>
      </div>

      <!-- CREATE GOAL WORKFLOW MODAL -->
      <div class="create-goal-modal" id="createGoalModal">
        <div class="create-goal-content">
          <button class="create-goal-close">&times;</button>
          <div class="create-goal-header">
            <h2>Create New Goal</h2>
            <div class="step-indicator">
              <span class="step active" data-step="1">1</span>
              <span class="step" data-step="2">2</span>
              <span class="step" data-step="3">3</span>
              <span class="step" data-step="4">4</span>
              <span class="step" data-step="5">5</span>
              <span class="step" data-step="6">6</span>
              <span class="step" data-step="7">7</span>
              <span class="step" data-step="8">8</span>
            </div>
          </div>
          <div class="create-goal-body" id="createGoalBody">
            <!-- Step 1: What's your goal? -->
            <div class="goal-step active" data-step="1">
              <h3>What's your goal?</h3>
              <input type="text" id="newGoalTitle" placeholder="Enter your goal..." class="goal-input-large">
            </div>

            <!-- Step 2: Timeframe -->
            <div class="goal-step" data-step="2">
              <h3>Timeframe</h3>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="goalTimeframe" value="short">
                  <span>Short-term (1-90 days)</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="goalTimeframe" value="mid">
                  <span>Mid-term (6-12 months)</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="goalTimeframe" value="long">
                  <span>Long-term (2-5 years)</span>
                </label>
              </div>
            </div>

            <!-- Step 3: Priority -->
            <div class="goal-step" data-step="3">
              <h3>Priority</h3>
              <div class="radio-group">
                <label class="radio-option priority-high">
                  <input type="radio" name="goalPriority" value="high">
                  <span>üî¥ High</span>
                </label>
                <label class="radio-option priority-medium">
                  <input type="radio" name="goalPriority" value="medium">
                  <span>üü° Medium</span>
                </label>
                <label class="radio-option priority-low">
                  <input type="radio" name="goalPriority" value="low">
                  <span>üü¢ Low</span>
                </label>
              </div>
            </div>

            <!-- Step 4: Due Date -->
            <div class="goal-step" data-step="4">
              <h3>Target completion date?</h3>
              <input type="date" id="newGoalDueDate" class="goal-input">
            </div>

            <!-- Step 5: Parent Goal -->
            <div class="goal-step" data-step="5">
              <h3>Does this support a larger goal?</h3>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="goalParent" value="standalone" checked>
                  <span>Standalone goal</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="goalParent" value="supports">
                  <span>Supports a larger goal</span>
                </label>
              </div>
              <select id="newGoalParent" class="goal-input" style="display: none; margin-top: 12px;">
                <option value="">Select parent goal...</option>
                <!-- Populated dynamically -->
              </select>
            </div>

            <!-- Step 6: Category Tags -->
            <div class="goal-step" data-step="6">
              <h3>Category tags</h3>
              <div class="checkbox-group">
                <label class="checkbox-option">
                  <input type="checkbox" name="goalTags" value="business">
                  <span>Business</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" name="goalTags" value="health">
                  <span>Health</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" name="goalTags" value="personal">
                  <span>Personal</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" name="goalTags" value="tech">
                  <span>Tech</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" name="goalTags" value="finance">
                  <span>Finance</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" name="goalTags" value="family">
                  <span>Family</span>
                </label>
              </div>
              <div style="margin-top: 12px;">
                <input type="text" id="newGoalCustomTag" placeholder="Other tag..." class="goal-input">
              </div>
            </div>

            <!-- Step 7: Description -->
            <div class="goal-step" data-step="7">
              <h3>Description</h3>
              <textarea id="newGoalDescription" rows="5" placeholder="Describe your goal in detail..." class="goal-textarea"></textarea>
            </div>

            <!-- Step 8: Link Habits -->
            <div class="goal-step" data-step="8">
              <h3>Link supporting habits? (optional)</h3>
              <div class="checkbox-group" id="habitsList">
                <!-- Populated dynamically -->
              </div>
            </div>
          </div>
          <div class="create-goal-footer">
            <button class="btn-secondary" id="createGoalBackBtn" style="display: none;">‚Üê Back</button>
            <button class="btn-primary" id="createGoalNextBtn">Next ‚Üí</button>
            <button class="btn-primary" id="createGoalSubmitBtn" style="display: none;">Create Goal</button>
          </div>
        </div>
      </div>

      <!-- TASKS TAB -->
      <section class="tab-panel" id="tasks">
        <div class="tab-header">
          <h2>This Week's Tasks</h2>
          <div class="header-actions-group">
            <button class="btn-secondary" id="rolloverBtn">üîÑ Rollover Last Week</button>
            <button class="btn-primary" id="addTaskBtn">+ Add Task</button>
          </div>
        </div>
        
        <div class="tasks-container">
          <div class="task-filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="pending">Pending</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
          </div>
          <div id="tasksList" class="tasks-list"></div>
        </div>
      </section>

      <!-- PROJECTS TAB -->
      <section class="tab-panel" id="projects">
        <div class="tab-header">
          <h2>Projects</h2>
          <button class="btn-primary" id="newProjectBtn">+ New Project</button>
        </div>
        <div id="projectsGrid" class="projects-grid"></div>
      </section>

      <!-- WORKFLOWS TAB -->
      <section class="tab-panel" id="workflows">
        <div class="tab-header">
          <h2>Workflows & SOPs</h2>
          <button class="btn-primary" id="newWorkflowBtn">+ New Workflow</button>
        </div>
        <div id="workflowsList" class="workflows-list"></div>
      </section>

      <!-- HABITS TAB -->
      <section class="tab-panel" id="habits">
        <div class="tab-header">
          <h2>Habit Tracker</h2>
          <button class="btn-primary" id="newHabitBtn">+ New Habit</button>
        </div>
        <div id="habitsList" class="habits-list"></div>
      </section>

      <!-- MEMORY TAB -->
      <section class="tab-panel" id="memory">
        <div class="tab-header">
          <h2>Memory</h2>
          <div class="memory-actions">
            <input type="text" id="memorySearch" placeholder="Search memory..." class="search-input">
            <button class="btn-primary" id="quickAddMemory">+ Quick Add</button>
          </div>
        </div>
        
        <div class="memory-layout">
          <aside class="memory-sidebar">
            <div class="filter-group">
              <h4>Filter</h4>
              <button class="filter-link active" data-filter="all">All Entries</button>
              <button class="filter-link" data-filter="decision">Decisions</button>
              <button class="filter-link" data-filter="insight">Insights</button>
              <button class="filter-link" data-filter="project_update">Projects</button>
              <button class="filter-link" data-filter="people">People</button>
            </div>
            <div class="filter-group">
              <h4>Tags</h4>
              <div id="tagsList" class="tags-list"></div>
            </div>
          </aside>
          <div id="memoryTimeline" class="memory-timeline"></div>
        </div>
      </section>

      <!-- NETWORK TAB -->
      <section class="tab-panel" id="network">
        <div class="tab-header">
          <h2>Network CRM</h2>
          <button class="btn-primary" id="newContactBtn">+ Add Contact</button>
        </div>
        
        <div class="network-layout">
          <!-- Touch Reminders -->
          <div class="network-section touch-reminders">
            <h3>‚ö†Ô∏è Touch Needed</h3>
            <div id="touchRemindersList"></div>
          </div>
          
          <!-- Network Metrics -->
          <div class="network-section metrics-grid">
            <div class="metric-card">
              <span class="metric-value" id="totalContacts">0</span>
              <span class="metric-label">Contacts</span>
            </div>
            <div class="metric-card">
              <span class="metric-value" id="strongRelations">0</span>
              <span class="metric-label">Strong Relationships</span>
            </div>
            <div class="metric-card">
              <span class="metric-value" id="dealSources">0</span>
              <span class="metric-label">Deal Sources</span>
            </div>
            <div class="metric-card highlight">
              <span class="metric-value" id="totalDealValue">$0</span>
              <span class="metric-label">Total Deal Value</span>
            </div>
          </div>
          
          <!-- Top Deal Sources -->
          <div class="network-section deal-sources">
            <h3>üí∞ Top Deal Sources</h3>
            <div id="topDealSourcesList"></div>
          </div>
          
          <!-- Contacts List -->
          <div class="network-section contacts-list">
            <div class="contacts-filter">
              <button class="filter-btn active" data-filter="all">All</button>
              <button class="filter-btn" data-filter="mentor">Mentors</button>
              <button class="filter-btn" data-filter="partner">Partners</button>
              <button class="filter-btn" data-filter="deal_source">Deal Sources</button>
            </div>
            <div id="contactsGrid" class="contacts-grid"></div>
          </div>
        </div>
      </section>

      <!-- COUNSEL TAB -->
      <section class="tab-panel" id="counsel">
        <div class="tab-header">
          <h2>AI Counsel - Multi-Agent Advisory</h2>
          <button class="btn-primary" id="newCounselBtn">+ New Session</button>
        </div>

        <div class="counsel-layout">
          <!-- Sessions Filter -->
          <div class="counsel-filters">
            <button class="filter-btn active" data-filter="all">All Sessions</button>
            <button class="filter-btn" data-filter="pending">Pending</button>
            <button class="filter-btn" data-filter="in-progress">In Progress</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
          </div>

          <!-- Sessions List -->
          <div id="counselSessionsList" class="counsel-sessions-list"></div>

          <!-- Session Detail View (hidden by default) -->
          <div id="counselSessionDetail" class="counsel-session-detail" style="display: none;">
            <button class="btn-secondary" id="backToSessions">‚Üê Back to Sessions</button>
            <div id="sessionDetailContent"></div>
          </div>
        </div>
      </section>

      <!-- LEARNING TAB -->
      <section class="tab-panel" id="learning">
        <div class="tab-header">
          <h2>Learning System</h2>
          <div class="learning-subtabs">
            <button class="subtab-btn active" data-subtab="books">üìö Books</button>
            <button class="subtab-btn" data-subtab="courses">üéì Courses</button>
            <button class="subtab-btn" data-subtab="skills">‚ö° Skills</button>
            <button class="subtab-btn" data-subtab="insights">üí° Insights</button>
            <button class="subtab-btn" data-subtab="mistakes">üî• Mistakes</button>
            <button class="subtab-btn" data-subtab="weekly">üìÖ Weekly</button>
          </div>
        </div>

        <!-- Books Subtab -->
        <div class="learning-subtab active" id="subtab-books">
          <div class="subtab-actions">
            <button class="btn-primary" id="addBookBtn">+ Add Book</button>
          </div>
          <div class="learning-filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="reading">Reading</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
            <button class="filter-btn" data-filter="to_read">To Read</button>
          </div>
          <div id="booksList" class="learning-grid"></div>
        </div>

        <!-- Courses Subtab -->
        <div class="learning-subtab" id="subtab-courses">
          <div class="subtab-actions">
            <button class="btn-primary" id="addCourseBtn">+ Add Course</button>
          </div>
          <div class="learning-filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="in_progress">In Progress</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
            <button class="filter-btn" data-filter="not_started">Not Started</button>
          </div>
          <div id="coursesList" class="learning-grid"></div>
        </div>

        <!-- Skills Subtab -->
        <div class="learning-subtab" id="subtab-skills">
          <div class="subtab-actions">
            <button class="btn-primary" id="addSkillBtn">+ Add Skill</button>
          </div>
          <div id="skillsList" class="learning-grid"></div>
        </div>

        <!-- Insights Subtab -->
        <div class="learning-subtab" id="subtab-insights">
          <div class="subtab-actions">
            <button class="btn-primary" id="addInsightBtn">+ Add Insight</button>
          </div>
          <div id="insightsList" class="learning-grid"></div>
        </div>

        <!-- Mistakes Subtab -->
        <div class="learning-subtab" id="subtab-mistakes">
          <div class="subtab-actions">
            <button class="btn-primary" id="addMistakeBtn">+ Add Mistake</button>
          </div>
          <div id="mistakesList" class="learning-grid"></div>
        </div>

        <!-- Weekly Goals Subtab -->
        <div class="learning-subtab" id="subtab-weekly">
          <div class="subtab-actions">
            <button class="btn-primary" id="addWeeklyGoalBtn">+ Add Weekly Goal</button>
          </div>
          <div class="learning-filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="in_progress">In Progress</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
          </div>
          <div id="weeklyGoalsList" class="learning-grid"></div>
        </div>
      </section>
    </main>
  </div>

  <!-- Modal for adding/editing items -->
  <div class="modal" id="itemModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">Add Item</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
      <div class="modal-footer">
        <button class="btn-secondary" id="modalCancel">Cancel</button>
        <button class="btn-primary" id="modalSave">Save</button>
      </div>
    </div>
  </div>

  <script src="modules/nova.js"></script>
</body>
</html>
